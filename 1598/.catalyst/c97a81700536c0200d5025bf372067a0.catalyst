{"title":{"en":"E. Staircases","ru":"E. Лестницы"},"contestId":"1598","problemIndex":"E","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You are given a matrix, consisting of $$$n$$$ rows and $$$m$$$ columns. The rows are numbered top to bottom, the columns are numbered left to right.</p><p>Each cell of the matrix can be either free or locked.</p><p>Let's call a path in the matrix <span class=\"tex-font-style-it\">a staircase</span> if it: </p><ul> <li> starts and ends in the free cell; </li><li> visits only free cells; </li><li> has one of the two following structures: <ol> <li> the second cell is $$$1$$$ to the right from the first one, the third cell is $$$1$$$ to the bottom from the second one, the fourth cell is $$$1$$$ to the right from the third one, and so on; </li><li> the second cell is $$$1$$$ to the bottom from the first one, the third cell is $$$1$$$ to the right from the second one, the fourth cell is $$$1$$$ to the bottom from the third one, and so on. </li></ol> </li></ul><p>In particular, a path, consisting of a single cell, is considered to be a staircase.</p><p>Here are some examples of staircases:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/d8ce1e156e62e77aa2e4f5006e073105f0d8e36f.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"> </center><p>Initially all the cells of the matrix are <span class=\"tex-font-style-bf\">free</span>.</p><p>You have to process $$$q$$$ queries, each of them flips the state of a single cell. So, if a cell is currently free, it makes it locked, and if a cell is currently locked, it makes it free.</p><p>Print the number of different staircases after each query. Two staircases are considered different if there exists such a cell that appears in one path and doesn't appear in the other path.</p>","ru":"<p>Дана матрица, состоящая из $$$n$$$ строк и $$$m$$$ столбцов. Строки пронумерованы сверху вниз, столбцы пронумерованы слева направо.</p><p>Ячейки данной матрицы могут быть свободными или заблокированными.</p><p>Назовем путь в матрице <span class=\"tex-font-style-it\">лестницей</span>, если он: </p><ul> <li> начинается и заканчивается в свободной ячейке; </li><li> посещает только свободные ячейки; </li><li> имеет одну из двух возможных структур: <ol> <li> вторая ячейка лежит на $$$1$$$ справа от первой, третья&nbsp;— на $$$1$$$ снизу от второй, четвертая&nbsp;— на $$$1$$$ справа от третьей, и так далее; </li><li> вторая ячейка лежит на $$$1$$$ снизу от первой, третья&nbsp;— на $$$1$$$ справа от второй, четвертая&nbsp;— на $$$1$$$ снизу от третьей, и так далее. </li></ol> </li></ul><p>В частности, путь, состоящий из одной ячейки, считается лестницей.</p><p>Некоторые примеры лестниц: </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/d8ce1e156e62e77aa2e4f5006e073105f0d8e36f.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"> </center><p>Изначально все ячейки в матрице <span class=\"tex-font-style-bf\">свободные</span>.</p><p>Требуется обработать $$$q$$$ запросов, каждый из которых переключает состояние одной ячейки. То есть, если клетка в данный момент свободна, то делает ее заблокированной, а если заблокирована, то делает ее свободной.</p><p>После каждого запроса требуется вывести количество различных лестниц. Две лестницы считаются различными, если существует такая ячейка, которая входит в один путь и не входит в другой.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains three integers $$$n$$$, $$$m$$$ and $$$q$$$ ($$$1 \\le n, m \\le 1000$$$; $$$1 \\le q \\le 10^4$$$)&nbsp;— the sizes of the matrix and the number of queries.</p><p>Each of the next $$$q$$$ lines contains two integers $$$x$$$ and $$$y$$$ ($$$1 \\le x \\le n$$$; $$$1 \\le y \\le m$$$)&nbsp;— the description of each query.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке записаны три целых числа $$$n$$$, $$$m$$$ и $$$q$$$ ($$$1 \\le n, m \\le 1000$$$; $$$1 \\le q \\le 10^4$$$)&nbsp;— размерности матрицы и количество запросов.</p><p>В каждой из следующих $$$q$$$ строк записаны два целых числа $$$x$$$ и $$$y$$$ ($$$1 \\le x \\le n$$$; $$$1 \\le y \\le m$$$)&nbsp;— описание очередного запроса.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print $$$q$$$ integers&nbsp;— the $$$i$$$-th value should be equal to the number of different staircases after $$$i$$$ queries. Two staircases are considered different if there exists such a cell that appears in one path and doesn't appear in the other path.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите $$$q$$$ целых чисел&nbsp;— $$$i$$$-е число должно быть равно количеству различных лестниц в матрице после $$$i$$$ запросов. Две лестницы считаются различными, если существует такая ячейка, которая входит в один путь и не входит в другой.</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1659345369688,"input":"2 2 8\n1 1\n1 1\n1 1\n2 2\n1 1\n1 2\n2 1\n1 1\n","output":"5\n10\n5\n2\n5\n3\n1\n0\n"},{"id":1659345369689,"input":"3 4 10\n1 4\n1 2\n2 3\n1 2\n2 3\n3 2\n1 3\n3 4\n1 3\n3 1\n","output":"49\n35\n24\n29\n49\n39\n31\n23\n29\n27\n"},{"id":1659345369690,"input":"1000 1000 2\n239 634\n239 634\n","output":"1332632508\n1333333000\n"}],"submitUrl":"https://codeforces.com/contest/1598/submit","language":"python"}